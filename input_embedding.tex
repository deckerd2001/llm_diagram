\noindent
\resizebox{\linewidth}{!}{%
\begin{tikzpicture}[
  >=stealth,
  auxnode/.style={draw, rectangle, fill=white, minimum height=6mm, inner sep=2pt, font=\footnotesize, align=center},
  mulnode/.style={draw, circle, fill=white, minimum size=6mm, font=\footnotesize, align=center},
  addnode/.style={draw, circle, fill=white, minimum size=6mm, font=\footnotesize, align=center},
  flow/.style={->, thick, black!85},
  flow2/.style={->, double, thick, black!85},
  dimlabel/.style={font=\scriptsize, inner sep=1pt, align=center}
]
\node[font=\Large\bfseries] at (9, 3.8) {Input $\rightarrow$ Embedding $\rightarrow$ LN (Input to MHA)};
\node (RawText) at (0,0) {};
\node[auxnode, align=center] (Tok)   [right=1.6cm of RawText] {Tokenizer\\(IDs)};
\node[auxnode, align=center] (Lookup)[right=2.0cm of Tok]     {Embedding Lookup};
\node[addnode, minimum size=6mm] (Sum) [right=2.0cm of Lookup] {+};
\node[auxnode, align=center] (PosE)  [below=1.5cm of Sum]  {Positional\\Embedding};
\node[auxnode] (Drop) [right=1.8cm of Sum] {DO};
\node (OUTPUT)   [align=center, right=1.8cm of Drop]   {$\mathbf{X}$\\$[B,S,D]$};
\node[dimlabel] (Eparam) [align=center, above=0.9cm of Lookup] {$\mathbf{E}$\\$[V,D]$};
\node[dimlabel] (Pparam) [align=center, below=0.8cm of PosE]   {$\mathbf{P}_{\theta}$ or sin};

\draw[flow] (RawText) -- (Tok) node[dimlabel, midway, above] {$\text{text}$};
\draw[flow] (Tok) -- (Lookup) node[dimlabel, midway, above] {$\mathbf{T}$\\$[B,S]$};
\draw[flow] (Eparam) -- (Lookup);
\draw[flow] (Lookup) -- (Sum) node[dimlabel, midway, above] {$\mathbf{X}_{\text{tok}}$\\$[B,S,D]$};
\draw[flow] (PosE) -- (Sum) node[dimlabel, midway, right] {$\mathbf{P}$\\$[S,D]$};
\draw[flow2] (Pparam) -- (PosE);
\draw[flow] (Sum) -- (Drop) node[dimlabel, midway, above] {$\mathbf{X}_{\text{emb}}$\\$[B,S,D]$};
\draw[flow] (Drop) -- (OUTPUT);
\node[dimlabel, above=0.0cm of RawText] {Input};
\end{tikzpicture}%
}
